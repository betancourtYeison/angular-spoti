<div class="container main-container animated fadeIn fast">
  <app-loading *ngIf="loading"></app-loading>
  <app-error *ngIf="errorActivate" [error]="error"></app-error>
  <div *ngIf="!loading && !errorActivate" class="row animated fadeIn">
    <div class="col-2">
      <img [src]="artist.images | noimage" class="img-thumbnail img-circle" />
    </div>
    <div class="col">
      <h3>{{ artist.name }}</h3>
      <p>
        <a
          class="btn btn-success"
          [href]="artist.external_urls.spotify"
          target="_blank"
          >Ir a la página del artista</a
        >
      </p>
    </div>
    <div class="col-4 text-right">
      <button (click)="goBack()" class="btn btn-outline-danger">
        Regresar
      </button>
    </div>
  </div>
  <div *ngIf="!loading && !errorActivate" class="row m-5 animated fadeIn">
    <div class="col">
      <table class="table">
        <thead>
          <tr>
            <th>Foto</th>
            <th>Album</th>
            <th>Canción</th>
            <th>Vista Previa</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let topTrack of topTracks">
            <td>
              <img [src]="topTrack.album.images | noimage" class="img-50" />
            </td>
            <td>{{ topTrack.album.name }}</td>
            <td>{{ topTrack.name }}</td>
            <td>
              <iframe
                [src]="topTrack.uri | domsecure"
                width="300"
                height="80"
                frameborder="0"
                allowtransparency="true"
                allow="encrypted-media"
              ></iframe>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
